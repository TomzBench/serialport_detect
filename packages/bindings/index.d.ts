/* auto-generated by NAPI-RS */
/* eslint-disable */
/** Information about the serial port */
export interface DeviceInfo {
  /** The port name. IE: COM3 */
  port: string
  /** Vendor ID */
  vid?: string
  /** Product ID */
  pid?: string
  /** Serial number */
  serial?: string
  /** Manufacturer string (arbitrary string) */
  manufacturer?: string
  /** Product string (arbitrary string) */
  product?: string
}

/** Extra data appended to the event */
export interface EventInfo {
  /** Meta data about the port. See [`DeviceInfo`] */
  device: DeviceInfo
  /** See [`EventType`] */
  event: EventType
}

/** A USB Add or Remove event has occured */
export declare const enum EventType {
  /** A USB serial port device has been plugged into the system */
  Add = 'Add',
  /** A USB serial port device has been unplugged from the system */
  Remove = 'Remove'
}
export declare class JsAbortHandle {
  abort(): void
}

/** Handle to a log event transmitter */
export declare class Logger {
  abort(): void
}

/** Provide event logs to a callback */
export declare function configureLogger(tsfn: ((err: Error | null, arg: LogInfo) => any)): [Logger, Promise<unknown>]

export declare function listen(tsfn: ((err: Error | null, arg: EventInfo) => any)): [JsAbortHandle, Promise<undefined>]

export interface LogInfo {
  mesg: string
  meta: Record<string, any>
  target: string
  line?: number
  file?: string
  modulePath?: string
}
